# ScreenplayEnginebiPlaywright

## Descripción
This project utilizes Playwright in conjunction with Screenplay, JavaScript, and MailSlurp to automate tests related to the creation and verification of subscriptions. It includes functionalities for email creation, company name creation, subscription homepage verification, subscription details verification, subscription purchase flow, and bug reporting.

## Table of Contents
- [Installation](#installation)
- [Usage](#usage)
- [Project Structure](#project-structure)
- [Main Features](#main-features)
- [Bug Reporting](#bug-reporting)

## Installation
1. Clone the repository:
   ```bash
   git clone https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright.git

## Instalación
1. Clona el repositorio:
   ```bash
   git clone https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright.git

2. npm install dotenv --save
3. npm install playwright

4. Allure Report with Playwright [Screenshots, Videos & Traces]
Step1: Install Allure Report command-line tool

npm install --save-dev allure-commandline
Step2: Install the Allure Playwright adapter.

npm install --save-dev allure-playwright
Step3: Add below config in playwright.config.js file.

reporter:[
['html'],
['allure-playwright']
],
Step4: Run Playwright tests.

npx playwright test
Step5: Generate Allure Report



## Uso

1. Playwright Report

npx playwright test

report generate when fail the test.

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/2f172725-fc63-47f9-a055-27f7adab5483)

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/377f02b3-20c5-40f9-81cf-74f59152022e)

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/976d4f2e-2789-4a4b-8472-a19fd23fd475)

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/aaf92661-4421-4188-826b-7febd1dd52df)
   
3. Allure Report (BDD framework)

npx allure serve allure-results

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/d8dac3ac-8ff2-496e-b848-2e640d7460d6)

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/45fa5ffc-03ca-4bf7-96c0-2e8d1f76f3da)

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/2736f14f-2d4a-4bfe-a64d-94338adc1006)

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/28adfb59-b74c-435a-9f68-86ee8ee5195a)


## estructura-del-proyecto

The project is based on the Screenplay design pattern.

- **allure-results/**:
  - Directory where the test results generated by Allure are stored.

- **node_modules/**:
  - Contains the project's installed dependencies.

- **playwright-report/**:
  - Contains the reports generated by Playwright.

- **test-results/**:
  - Specific test result files, including subscriber details, free trial subscriptions, monthly and annual subscriptions, among others.

- **tests/**:
  - **actions/**:
    - `inputactions.js`: Handles input actions.
    - `listactions.js`: Actions related to lists.
    - `navigationactions.js`: Navigation actions within the application.
  - **actors/**:
    - `prod.json`: Configuration specific to the production environment.
    - `qa.json`: Configuration specific to the QA environment.
  - **questions/**:
    - `detailsubscriptionsquestions.js`: Questions related to subscription details.
    - `homepagequestions.js`: Questions to verify elements on the homepage.
  - **tasks/**:
    - `detailsubscriptionstask.js`: Tasks related to subscription details.
    - `homepageverifytasks.js`: Tasks to verify the homepage.
    - `subscriptionstask.js`: Tasks for managing subscriptions.
  - **tests**:
    - `detailsubscriptions.spec.js`: Tests for subscription details.
    - `suscripcionfreetrial.spec.js`: Tests for free trial subscriptions.
    - `subscriptions.spec.js`: Tests for subscriptions.
    - `verifycomponents.spec.js`: Tests to verify components.

- **.env**:
  - Environment variable configuration file.

- **.gitignore**:
  - Files and directories that Git should ignore.

- **package-lock.json**:
  - File ensuring reproducible installs, locking dependency versions.

- **package.json**:
  - Contains project information and dependencies.

- **playwright.config.js**:
  - Configuration for Playwright tests.

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/2d39f011-3138-4b5e-8b4b-b70b7dbdece6)


## main-features

Create company randoms

generateRandomCompanyName() {
        const adjectives = ["Dynamic", "Innovative", "Global", "Leading", "NextGen", "prueba", "turebe", "tramee", "trinical", "prevelt"];
        const nouns = ["Solutions", "Technologies", "Systems", "Enterprises", "Holdings", "Concepts", "trine", "pevaar", "AWS", "applelton"];
        const adjective = adjectives[Math.floor(Math.random() * adjectives.length)];
        const noun = nouns[Math.floor(Math.random() * nouns.length)];
        return `${adjective} ${noun}`;
    }


Test Environment Environment Variables


![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/169eb1ec-63be-4372-af00-e96c78520851)



Email API MailSlurp for verifying email receipt and creating users with different email addresses


![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/caeb3de8-eb46-4ac8-9793-6fdf6c62e4ff)



## Bug Reporting

1. The Engine Platinum card does not contain the "SEE PLAN DETAILS" link

### Steps to Reproduce:

1. Go to QA.
3. Verify the Engine Platinum card.

### Expected Behavior:

The Engine Platinum plan card should include a visible and functional link with the text "SEE PLAN DETAILS".

### Observed Behavior:

The Engine Platinum plan card does not contain the "SEE PLAN DETAILS" link.


![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/46ff947d-52a4-494e-9869-9574f2fdc2d1)


2. Emails are delayed when purchasing multiple subscriptions simultaneously.

### Steps to Reproduce:

1. Go to QA.
2. Navigate to [Subscription Plans](https://app-qa.enginebi.net/subscription/0-plans).
3. Run the automated test (Free trial Subscription).
4. Verify the ID and email generated by the automated test.
5. Check the email generated by the automated test for the Free trial Subscription.

### Expected Behavior:

When running the automated test, verify the mailbox ID and ensure the email with the purchase confirmation arrives promptly.

![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/219886e5-9976-443c-9685-64ddbbe6c896)
![image](https://github.com/Yosmanovallos/ScreenplayEnginebiPlaywright/assets/119948396/3cf3e8b1-98bc-47c7-85fe-5d26d330e9fb)


### Observed Behavior:

The email verification for the subscription confirmation takes too long to arrive, exceeding acceptable time limits and causing automated tests to fail.












